<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>WPS新闻站</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
	<script type="text/javascript">
		const data = [
			{
				"title": "震惊！杨××上课竟被语文老师紫菜",
				"icon": "class",
				"timestamp": 1725461089,
				"uuid": "9292bb25-ccc7-4d38-94f0-076e034394fd"
			},
			{
				"title": "如何反内卷",
				"icon": "class",
				"timestamp": 1725760760,
				"uuid": "3d09f46a-5d71-4230-9d66-25e37d0cc3ec"
			},
			{
				"title": "如何使用一种编程语言装B",
				"icon": "code",
				"timestamp": 1725762660,
				"uuid": "7b19f6dd-5ba9-43f1-a7d1-adcc04e33c09"
			}
		];
		function init() {
			const hasKey = window.prompt("请输入访问密钥") == "滨湖823班";
			if (!hasKey) {
				window.alert("给我爬。");
				window.history.back();
				return;
			}
			const list = document.getElementById("list");
			for (let i = data.length - 1; i >= 0; i--) {
				var item = document.createElement("li");
				item.innerHTML = "<span>" + data[i].title + "</span><br><span style=\"--clr #999999;font-size:10px\">提交于" + formatTimestamp(data[i].timestamp, true) + "</span>";
				item.onclick = function() {
					window.open("./" + data[i].uuid + "");
				}
				list.appendChild(item);
			}
		}
		function formatTimestamp(timestamp, isSecond) {
			if (isSecond) timestamp *= 1000;
			const date = new Date(timestamp);
			return `${date.getFullYear()}年${String(date.getMonth() + 1).padStart(2, '0')}月${String(date.getDate()).padStart(2, '0')}日 ${date.getHours()}:${date.getMinutes()}`;
		}
	</script>
	<style type="text/css">
		ul {
			list-style-type: none;
			padding: 0;
		}
		li {
			background-repeat: no-repeat;
			background-position: left center;
			background-size: 30px;
			display: block;
			top: 50%;
			background-color: #f4f4f4;
			border: 1px solid #ddd;
			border-radius: 10px;
			margin: 5px 0;
			padding: 10px;
			padding-left: 36px;
			transition: background-color 0.3s;
		}
		li:hover {
			background-color: #e2e2e2;
		}
	</style>
</head>
<body onload="init()">
	<h1>WPS新闻站</h1>
	<p>此为初二（23）班内部新闻网站，<span style="color:red;">没有访问密钥全部给我爬。</span></p>
	<ul id="list"/>
</body>
</html>
